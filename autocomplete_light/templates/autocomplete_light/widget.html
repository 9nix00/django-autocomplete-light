{% load i18n %}
{% load autocomplete_light_tags %}

<span class="autocompleteselectwidget_light {{ name }}" id="{{ widget.html_id }}_wrapper" 
    data-maxitems="{{ widget.max_items }}" 
    data-mincharacters="{{ widget.min_characters }}" 
    data-bootstrap="{{ widget.bootstrap }}">
    <input type="text" class="autocomplete" name="{{ name }}_autocomplete" id="{{ widget.html_id }}_text" value="" {{ extra_attrs }} />
    
    <select style="display:none" class="valueSelect" name="{{ name }}" id="{{ widget.html_id }}" {% if widget.max_items != 1 %}multiple="multiple"{% endif %}>
        {% for value in values %}
            <option value="{{ value }}" selected="selected">{{ value }}</option>
        {% endfor %}
    </select>

    <ul id="{{ html_id }}_deck" class="deck" >
        {% for result in results %}
            {{ result|autocomplete_light_result_as_html:channel }}
        {% endfor %}
    </ul>

    <textarea class="json_channel" style="display:none">
        {{ json_channel }}
    </textarea>
    
    <div style="display:none" class="remove">
        {# This will be appended to results on the deck, it's the remove button #}
        XX
    </div>

    <ul style="display:none" class="add_template">
        {% comment %}
        the contained element will be used to render options that are added to the select 
        via javascript, for example in django admin with the + sign

        The text of the option will be inserted in the html of this tag
        {% endcomment %}
        <li class="result">
        </li>
    </ul>
</span>
